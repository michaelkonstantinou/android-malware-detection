document.addEventListener("DOMContentLoaded", function(event) {
    // Get HTML element
    const elHTML = document.querySelector('html');
    const isThemeColorToggable = elHTML.getAttribute('data-theme-toggable') === 'true';

    // Sync Theme Color
    const currentThemeColor = localStorage.getItem("theme");
    if ((currentThemeColor !== null) && isThemeColorToggable) {
        elHTML.setAttribute('data-theme', currentThemeColor);
    }

    // Buttons should be able to open links
    const linkButtons = document.querySelectorAll('.btn-link');
    for (let button of linkButtons) {
        button.addEventListener('click', function(event) {
            window.open(button.getAttribute('data-url'), '_self');
        });
    }

    // Toggle Light/Dark mode
    const btnColor = document.querySelector('#btn-color');
    btnColor.addEventListener('click', function(event) {
        const color = elHTML.getAttribute('data-theme');
        let newTheme = '';

        // Toggle theme color
        if (color === 'light') {
            newTheme = 'dark';
        } else {
            newTheme = 'light';
        }

        elHTML.setAttribute('data-theme', newTheme);
        localStorage.setItem('theme', newTheme); 
    });

    // Add animations
    const animatedItems = document.querySelectorAll('h2, h3, p, button');
    const animtedListItems = document.querySelectorAll('li');

    for(let item of animatedItems) {
        item.classList.add('animate__animated', 'animate__slideInUp', 'animate__fadeIn');
    }

    for(let item of animtedListItems) {
        item.classList.add('animate__animated', 'animate__slideInRight', 'animate__fadeIn');
    }
});